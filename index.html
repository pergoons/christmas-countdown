<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Countdown & Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: url('christmas-background.jpg') no-repeat center center fixed;
            background-size: cover;
            font-family: "Times New Roman", serif;
        }
        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: white;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
        }
        .title {
            font-size: 32px;
            margin-bottom: 20px;
        }
        .countdown {
            font-size: 28px;
            margin-bottom: 30px;
        }
        canvas {
            display: block;
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid #fff;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Christmas Countdown</div>
        <div id="countdown" class="countdown"></div>
        <canvas id="gameCanvas" width="320" height="480"></canvas>
    </div>

    <script>
        // Countdown Timer Script
        function updateCountdown() {
            const christmasDate = new Date("December 25, 2024 00:00:00").getTime();
            const now = new Date().getTime();
            const distance = christmasDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("countdown").innerHTML = `
                ${days} Days ${hours} Hours ${minutes} Minutes ${seconds} Seconds
            `;

            if (distance < 0) {
                document.getElementById("countdown").innerHTML = "Merry Christmas!";
            }
        }

        setInterval(updateCountdown, 1000);
        updateCountdown();

        // Flappy Bird Game Script
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // Game Variables
        const santa = new Image();
        const bg = new Image();
        const fg = new Image();
        const candyCane = new Image();

        santa.src = "https://i.imgur.com/E5WLGQo.png"; // Santa hat image
        bg.src = "https://i.imgur.com/nQF9Q6m.png"; // Background image
        fg.src = "https://i.imgur.com/K9BfPdD.png"; // Foreground image
        candyCane.src = "https://i.imgur.com/oa8FvqR.png"; // Candy cane pipe image

        const gap = 85;
        const constant = candyCane.height + gap;

        let bX = 10; // Bird position
        let bY = 150; // Bird position

        const gravity = 1.5;
        let score = 0;

        // Pipe coordinates
        const pipe = [];

        pipe[0] = {
            x: canvas.width,
            y: 0,
        };

        // On key down
        document.addEventListener("keydown", moveUp);

        function moveUp() {
            bY -= 25;
        }

        function draw() {
            ctx.drawImage(bg, 0, 0);

            for (let i = 0; i < pipe.length; i++) {
                ctx.drawImage(candyCane, pipe[i].x, pipe[i].y);
                ctx.drawImage(
                    candyCane,
                    pipe[i].x,
                    pipe[i].y + constant,
                    candyCane.width,
                    canvas.height - (pipe[i].y + constant)
                );

                pipe[i].x--;

                if (pipe[i].x == 125) {
                    pipe.push({
                        x: canvas.width,
                        y: Math.floor(Math.random() * candyCane.height) - candyCane.height,
                    });
                }

                // Detect collision
                if (
                    (bX + santa.width >= pipe[i].x &&
                        bX <= pipe[i].x + candyCane.width &&
                        (bY <= pipe[i].y + candyCane.height || bY + santa.height >= pipe[i].y + constant)) ||
                    bY + santa.height >= canvas.height
                ) {
                    location.reload(); // Reload page
                }

                if (pipe[i].x == 5) {
                    score++;
                }
            }

            ctx.drawImage(fg, 0, canvas.height - fg.height);
            ctx.drawImage(santa, bX, bY);

            bY += gravity;

            ctx.fillStyle = "#000";
            ctx.font = "20px Arial";
            ctx.fillText("Score : " + score, 10, canvas.height - 20);

            requestAnimationFrame(draw);
        }

        draw();
    </script>
</body>
</html>
